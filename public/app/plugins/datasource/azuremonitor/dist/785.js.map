{"version":3,"file":"785.js","mappings":"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","sources":["webpack://grafana-azure-monitor-datasource/../../../../../node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/isObject.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/_freeGlobal.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/_root.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/now.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/_trimmedEndIndex.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/_baseTrim.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/_Symbol.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/_getRawTag.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/_objectToString.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/_baseGetTag.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/toNumber.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/isSymbol.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/isObjectLike.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/lodash-es/debounce.js","webpack://grafana-azure-monitor-datasource/../../../../../node_modules/@kusto/monaco-kusto/release/esm/kustoMode.js"],"sourcesContent":["/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * Enum of known range kinds\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return typeof candidate === 'string';\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \" + id + \" is already in use.\");\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \" + id);\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n})(MarkupKind || (MarkupKind = {}));\n(function (MarkupKind) {\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol, defaults to the current document.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string));\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","/*!-----------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * monaco-kusto version: 7.7.0(4c0354ddfc7103811088dadcb6c4ed9e00f6a34e)\n * Released under the MIT license\n * https://https://github.com/Azure/monaco-kusto/blob/master/README.md\n *-----------------------------------------------------------------------------*/\n\nimport * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nimport * as ls from 'vscode-languageserver-types';\nimport debounce from 'lodash-es/debounce';\n\nclass WorkerManager {\n  constructor(_monacoInstance, defaults) {\n    this._monacoInstance = _monacoInstance;\n    this._defaults = defaults;\n    this._worker = null;\n    this._idleCheckInterval = self.setInterval(() => this._checkIfIdle(), 30 * 1000);\n    this._lastUsedTime = 0;\n    this._configChangeListener = this._defaults.onDidChange(() => this._saveStateAndStopWorker());\n  }\n  _stopWorker() {\n    if (this._worker) {\n      this._worker.dispose();\n      this._worker = null;\n    }\n    this._client = null;\n  }\n  _saveStateAndStopWorker() {\n    if (!this._worker) {\n      return;\n    }\n    this._worker.getProxy().then(proxy => {\n      proxy.getSchema().then(schema => {\n        this._storedState = {\n          schema: schema\n        };\n        this._stopWorker();\n      });\n    });\n  }\n  dispose() {\n    clearInterval(this._idleCheckInterval);\n    this._configChangeListener.dispose();\n    this._stopWorker();\n  }\n  _checkIfIdle() {\n    if (!this._worker) {\n      return;\n    }\n    const maxIdleTime = this._defaults.getWorkerMaxIdleTime();\n    let timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n    if (maxIdleTime > 0 && timePassedSinceLastUsed > maxIdleTime) {\n      this._saveStateAndStopWorker();\n    }\n  }\n  _getClient() {\n    this._lastUsedTime = Date.now();\n\n    // Since onDidProvideCompletionItems is not used in web worker, and since functions cannot be trivially serialized (throws exception unable to clone), We remove it here.\n    const {\n      onDidProvideCompletionItems,\n      ...languageSettings\n    } = this._defaults.languageSettings;\n    if (!this._client) {\n      this._worker = this._monacoInstance.editor.createWebWorker({\n        // module that exports the create() method and returns a `KustoWorker` instance\n        moduleId: 'vs/language/kusto/kustoWorker',\n        label: 'kusto',\n        // passed in to the create() method\n        createData: {\n          languageSettings: languageSettings,\n          languageId: 'kusto'\n        }\n      });\n      this._client = this._worker.getProxy().then(proxy => {\n        // push state we held onto before killing the client.\n        if (this._storedState) {\n          return proxy.setSchema(this._storedState.schema).then(() => proxy);\n        } else {\n          return proxy;\n        }\n      });\n    }\n    return this._client;\n  }\n  getLanguageServiceWorker(...resources) {\n    let _client;\n    return this._getClient().then(client => {\n      _client = client;\n    }).then(_ => {\n      return this._worker.withSyncedResources(resources);\n    }).then(_ => _client);\n  }\n}\n\nconst KustoLanguageDefinition = {\n  name: 'kusto',\n  mimeTypes: ['text/kusto'],\n  displayName: 'Kusto',\n  defaultToken: 'invalid',\n  brackets: [['[', ']', 'delimiter.square'], ['(', ')', 'delimiter.parenthesis']],\n  // types are wrong\n  wordDefinition: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\#\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g,\n  // .slice() call is for creating a shallow copy of the array since bridge.net shoves a $type property on the array which monaco doesn't like.\n  // Kusto.Data.IntelliSense.CslCommandParser.PromotedOperatorCommandTokens.slice(0),\n  promotedOperatorCommandTokens: ['where', 'count', 'extend', 'join', 'limit', 'order', 'project', 'project-away', 'project-rename', 'project-reorder', 'project-keep', 'render', 'sort', 'summarize', 'distinct', 'take', 'top', 'top-nested', 'top-hitters', 'union', 'mv-expand', 'mv-apply', 'reduce', 'evaluate', 'parse', 'parse-where', 'parse-kv', 'sample', 'sample-distinct', 'make-series', 'getschema', 'serialize', 'invoke', 'as', 'scan'],\n  // Kusto.Data.IntelliSense.CslCommandParser.OperatorCommandTokens.slice(0),\n  operatorCommandTokens: ['filter', 'fork', 'facet', 'range', 'consume', 'find', 'search', 'print', 'partition', 'lookup', 'where', 'count', 'extend', 'join', 'limit', 'order', 'project', 'project-away', 'project-rename', 'project-reorder', 'project-keep', 'render', 'sort', 'summarize', 'distinct', 'take', 'top', 'top-nested', 'top-hitters', 'union', 'mv-expand', 'mv-apply', 'reduce', 'evaluate', 'parse', 'parse-where', 'parse-kv', 'sample', 'sample-distinct', 'make-series', 'getschema', 'serialize', 'invoke', 'as', 'scan'],\n  keywords: ['by', 'on', 'contains', 'notcontains', 'containscs', 'notcontainscs', 'startswith', 'has', 'matches', 'regex', 'true', 'false', 'and', 'or', 'typeof', 'int', 'string', 'date', 'datetime', 'time', 'long', 'real', 'boolean', 'bool'],\n  operators: ['+', '-', '*', '/', '>', '<', '==', '<>', '<=', '>=', '~', '!~'],\n  builtinFunctions: ['countof', 'bin', 'extentid', 'extract', 'extractjson', 'floor', 'iif', 'isnull', 'isnotnull', 'notnull', 'isempty', 'isnotempty', 'notempty', 'now', 're2', 'strcat', 'strlen', 'toupper', 'tostring', 'count', 'cnt', 'sum', 'min', 'max', 'avg'],\n  tokenizer: {\n    root: [{\n      include: '@whitespace'\n    }, {\n      include: '@numbers'\n    }, {\n      include: '@strings'\n    }, {\n      include: '@dqstrings'\n    }, {\n      include: '@literals'\n    }, {\n      include: '@comments'\n    }, [/[;,.]/, 'delimiter'], [/[()\\[\\]]/, '@brackets'], [/[<>=!%&+\\-*/|~^]/, 'operator'], [/[\\w@#\\-$]+/, {\n      cases: {\n        '@keywords': 'keyword',\n        '@promotedOperatorCommandTokens': 'operator.sql',\n        '@operatorCommandTokens': 'keyword',\n        '@operators': 'operator',\n        '@builtinFunctions': 'predefined',\n        '@default': 'identifier'\n      }\n    }]],\n    whitespace: [[/\\s+/, 'white']],\n    comments: [['\\\\/\\\\/+.*', 'comment']],\n    numbers: [[/0[xX][0-9a-fA-F]*/, 'number'], [/[$][+-]*\\d*(\\.\\d*)?/, 'number'], [/((\\d+(\\.\\d*)?)|(\\.\\d+))([eE][\\-+]?\\d+)?/, 'number']],\n    strings: [[/H'/, {\n      token: 'string.quote',\n      bracket: '@open',\n      next: '@string'\n    }], [/h'/, {\n      token: 'string.quote',\n      bracket: '@open',\n      next: '@string'\n    }], [/'/, {\n      token: 'string.quote',\n      bracket: '@open',\n      next: '@string'\n    }]],\n    string: [[/[^']+/, 'string'], [/''/, 'string'], [/'/, {\n      token: 'string.quote',\n      bracket: '@close',\n      next: '@pop'\n    }]],\n    dqstrings: [[/H\"/, {\n      token: 'string.quote',\n      bracket: '@open',\n      next: '@dqstring'\n    }], [/h\"/, {\n      token: 'string.quote',\n      bracket: '@open',\n      next: '@dqstring'\n    }], [/\"/, {\n      token: 'string.quote',\n      bracket: '@open',\n      next: '@dqstring'\n    }]],\n    dqstring: [[/[^\"]+/, 'string'], [/\"\"/, 'string'], [/\"/, {\n      token: 'string.quote',\n      bracket: '@close',\n      next: '@pop'\n    }]],\n    literals: [[/datetime\\(\\d{4}-\\d{2}-\\d{2}(\\s+\\d{2}:\\d{2}(:\\d{2}(\\.\\d{0,3})?)?)?\\)/, 'number'], [/time\\((\\d+(s(ec(onds?)?)?|m(in(utes?)?)?|h(ours?)?|d(ays?)?)|(\\s*(('[^']+')|(\"[^\"]+\"))\\s*))\\)/, 'number'], [/guid\\([\\da-fA-F]{8}-[\\da-fA-F]{4}-[\\da-fA-F]{4}-[\\da-fA-F]{4}-[\\da-fA-F]{12}\\)/, 'number'], [/typeof\\((int|string|date|datetime|time|long|real|boolean|bool)\\)/, 'number']]\n  }\n};\n\n// --- diagnostics ---\n\nclass DiagnosticsAdapter {\n  _disposables = [];\n  _contentListener = Object.create(null);\n  _configurationListener = Object.create(null);\n  _schemaListener = Object.create(null);\n  _cursorListener = Object.create(null);\n  _debouncedValidations = Object.create(null);\n  constructor(_monacoInstance, _languageId, _worker, defaults, onSchemaChange) {\n    this._monacoInstance = _monacoInstance;\n    this._languageId = _languageId;\n    this._worker = _worker;\n    this.defaults = defaults;\n    const onModelAdd = model => {\n      let languageId = model.getLanguageId();\n      const modelUri = model.uri.toString();\n      if (languageId !== this._languageId) {\n        return;\n      }\n      const debouncedValidation = this.getOrCreateDebouncedValidation(model, languageId);\n      this._contentListener[modelUri] = model.onDidChangeContent(e => {\n        const intervalsToValidate = changeEventToIntervals(e);\n        debouncedValidation(intervalsToValidate);\n      });\n      this._configurationListener[modelUri] = this.defaults.onDidChange(() => {\n        self.setTimeout(() => this._doValidate(model, languageId, []), 0);\n      });\n      this._schemaListener[modelUri] = onSchemaChange(() => {\n        self.setTimeout(() => this._doValidate(model, languageId, []), 0);\n      });\n    };\n    const onEditorAdd = editor => {\n      const editorId = editor.getId();\n      if (!this._cursorListener[editorId]) {\n        editor.onDidDispose(() => {\n          this._cursorListener[editorId]?.dispose();\n          delete this._cursorListener[editorId];\n        });\n        this._cursorListener[editorId] = editor.onDidChangeCursorSelection(e => {\n          const model = editor.getModel();\n          const languageId = model.getLanguageId();\n          if (languageId !== this._languageId) {\n            return;\n          }\n          const cursorOffset = model.getOffsetAt(e.selection.getPosition());\n          const debouncedValidation = this.getOrCreateDebouncedValidation(model, languageId);\n          debouncedValidation([{\n            start: cursorOffset,\n            end: cursorOffset\n          }]);\n        });\n      }\n    };\n    const onModelRemoved = model => {\n      this._monacoInstance.editor.setModelMarkers(model, this._languageId, []);\n      let uriStr = model.uri.toString();\n      let contentListener = this._contentListener[uriStr];\n      if (contentListener) {\n        contentListener.dispose();\n        delete this._contentListener[uriStr];\n      }\n      let configurationListener = this._configurationListener[uriStr];\n      if (configurationListener) {\n        configurationListener.dispose();\n        delete this._configurationListener[uriStr];\n      }\n      let schemaListener = this._schemaListener[uriStr];\n      if (schemaListener) {\n        schemaListener.dispose();\n        delete this._schemaListener[uriStr];\n      }\n      let debouncedValidation = this._debouncedValidations[uriStr];\n      if (debouncedValidation) {\n        debouncedValidation.cancel();\n        delete this._debouncedValidations[uriStr];\n      }\n    };\n    if (this.defaults.languageSettings.enableQuickFixes) {\n      this._disposables.push(monaco.languages.registerCodeActionProvider(this._languageId, {\n        provideCodeActions: async (model, range, context, _token) => {\n          const startOffset = model.getOffsetAt(range.getStartPosition());\n          const endOffset = model.getOffsetAt(range.getEndPosition());\n          // We want to show the quick fix option only if we have markers in our selected range\n          const showQuickFix = context.markers.length > 0;\n          const actions = await this.getMonacoCodeActions(model, startOffset, endOffset, showQuickFix);\n          return {\n            actions,\n            dispose: () => {}\n          };\n        }\n      }));\n    }\n    this._disposables.push(this._monacoInstance.editor.onDidCreateEditor(onEditorAdd));\n    this._disposables.push(this._monacoInstance.editor.onDidCreateModel(onModelAdd));\n    this._disposables.push(this._monacoInstance.editor.onWillDisposeModel(onModelRemoved));\n    this._disposables.push(this._monacoInstance.editor.onDidChangeModelLanguage(event => {\n      onModelRemoved(event.model);\n      onModelAdd(event.model);\n    }));\n    this._disposables.push({\n      dispose: () => {\n        for (let key in this._contentListener) {\n          this._contentListener[key].dispose();\n        }\n        for (let key in this._cursorListener) {\n          this._cursorListener[key].dispose();\n        }\n        for (let key in this._debouncedValidations) {\n          this._debouncedValidations[key].cancel();\n        }\n      }\n    });\n    this._monacoInstance.editor.getModels().forEach(onModelAdd);\n    this._monacoInstance.editor.getEditors().forEach(onEditorAdd);\n  }\n  async getMonacoCodeActions(model, startOffset, endOffset, enableQuickFix) {\n    const actions = [];\n    const worker = await this._worker(model.uri);\n    const resource = model.uri;\n    const codeActions = await worker.getResultActions(resource.toString(), startOffset, endOffset);\n    for (let i = 0; i < codeActions.length; i++) {\n      const codeAction = codeActions[i];\n      if (codeAction.kind.includes('Extract Function')) {\n        // Ignore extract function actions for now since they are buggy currently\n        continue;\n      }\n      const codeActionKind = this.defaults.languageSettings.quickFixCodeActions?.find(actionKind => codeAction.kind.includes(actionKind)) ? 'quickfix' : 'custom';\n      if (codeActionKind === 'quickfix' && !enableQuickFix) {\n        return;\n      }\n      const changes = codeAction.changes;\n      const edits = changes.map(change => {\n        const startPosition = model.getPositionAt(change.start);\n        const endPosition = model.getPositionAt(change.start + change.deleteLength);\n        return {\n          resource: model.uri,\n          textEdit: {\n            range: {\n              startLineNumber: startPosition.lineNumber,\n              startColumn: startPosition.column,\n              endLineNumber: endPosition.lineNumber,\n              endColumn: endPosition.column\n            },\n            text: change.insertText ?? ''\n          }\n        };\n      });\n      actions.push({\n        title: codeAction.title,\n        diagnostics: [],\n        kind: codeActionKind,\n        edit: {\n          edits: [...edits]\n        }\n      });\n    }\n    return actions;\n  }\n  getOrCreateDebouncedValidation(model, languageId) {\n    const modelUri = model.uri.toString();\n    if (!this._debouncedValidations[modelUri]) {\n      this._debouncedValidations[modelUri] = debounce(intervals => this._doValidate(model, languageId, intervals), 500);\n    }\n    return this._debouncedValidations[modelUri];\n  }\n  dispose() {\n    this._disposables.forEach(d => d && d.dispose());\n    this._disposables = [];\n  }\n  _doValidate(model, languageId, intervals) {\n    if (model.isDisposed()) {\n      return;\n    }\n    const resource = model.uri;\n    const versionNumberBefore = model.getVersionId();\n    this._worker(resource).then(worker => {\n      return worker.doValidation(resource.toString(), intervals);\n    }).then(diagnostics => {\n      const newModel = this._monacoInstance.editor.getModel(resource);\n      const versionId = newModel.getVersionId();\n      if (versionId !== versionNumberBefore) {\n        return;\n      }\n      const markers = diagnostics.map(d => toDiagnostics(resource, d));\n      let model = this._monacoInstance.editor.getModel(resource);\n      let oldDecorations = model.getAllDecorations().filter(decoration => decoration.options.className == 'squiggly-error').map(decoration => decoration.id);\n      if (model && model.getLanguageId() === languageId) {\n        const syntaxErrorAsMarkDown = this.defaults.languageSettings.syntaxErrorAsMarkDown;\n        if (!syntaxErrorAsMarkDown || !syntaxErrorAsMarkDown.enableSyntaxErrorAsMarkDown) {\n          // Remove previous syntax error decorations and set the new markers (for example, when disabling syntaxErrorAsMarkDown after it was enabled)\n          model.deltaDecorations(oldDecorations, []);\n          this._monacoInstance.editor.setModelMarkers(model, languageId, markers);\n        } else {\n          // Add custom popup for syntax error: icon, header and message as markdown\n          const header = syntaxErrorAsMarkDown.header ? `**${syntaxErrorAsMarkDown.header}** \\n\\n` : '';\n          const icon = syntaxErrorAsMarkDown.icon ? `![](${syntaxErrorAsMarkDown.icon})` : '';\n          const popupErrorHoverHeaderMessage = `${icon} ${header}`;\n          const newDecorations = markers.map(marker => {\n            return {\n              range: {\n                startLineNumber: marker.startLineNumber,\n                startColumn: marker.startColumn,\n                endLineNumber: marker.endLineNumber,\n                endColumn: marker.endColumn\n              },\n              options: {\n                hoverMessage: {\n                  value: popupErrorHoverHeaderMessage + marker.message\n                },\n                className: 'squiggly-error',\n                // monaco syntax error style (red underline)\n                zIndex: 100,\n                // This message will be the upper most mesage in the popup\n                overviewRuler: {\n                  // The color indication on the right ruler\n                  color: 'rgb(255, 18, 18, 0.7)',\n                  position: monaco.editor.OverviewRulerLane.Right\n                },\n                minimap: {\n                  color: 'rgb(255, 18, 18, 0.7)',\n                  position: monaco.editor.MinimapPosition.Inline\n                }\n              }\n            };\n          });\n          const oldMarkers = monaco.editor.getModelMarkers({\n            owner: languageId,\n            resource: resource\n          });\n          if (oldMarkers && oldMarkers.length > 0) {\n            // In case there were previous markers, remove their decorations (for example, when enabling syntaxErrorAsMarkDown after it was disabled)\n            oldDecorations = [];\n            // Remove previous markers\n            this._monacoInstance.editor.setModelMarkers(model, languageId, []);\n          }\n\n          // Remove previous syntax error decorations and set the new decorations\n          model.deltaDecorations(oldDecorations, newDecorations);\n        }\n      }\n    }).then(undefined, err => {\n      console.error(err);\n    });\n  }\n}\nfunction changeEventToIntervals(e) {\n  return e.changes.map(change => ({\n    start: change.rangeOffset,\n    end: change.rangeOffset + change.text.length\n  }));\n}\nfunction toSeverity(lsSeverity) {\n  switch (lsSeverity) {\n    case ls.DiagnosticSeverity.Error:\n      return monaco.MarkerSeverity.Error;\n    case ls.DiagnosticSeverity.Warning:\n      return monaco.MarkerSeverity.Warning;\n    case ls.DiagnosticSeverity.Information:\n      return monaco.MarkerSeverity.Info;\n    case ls.DiagnosticSeverity.Hint:\n      return monaco.MarkerSeverity.Hint;\n    default:\n      return monaco.MarkerSeverity.Info;\n  }\n}\nfunction toDiagnostics(resource, diag) {\n  let code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\n  return {\n    severity: toSeverity(diag.severity),\n    startLineNumber: diag.range.start.line + 1,\n    startColumn: diag.range.start.character + 1,\n    endLineNumber: diag.range.end.line + 1,\n    endColumn: diag.range.end.character + 1,\n    message: diag.message,\n    code: code,\n    source: diag.source\n  };\n}\n/**\n * Copy of Kusto.Language.Editor.ClassificationKind we don't have to depend on it in this file\n */\nconst ClassificationKind = {\n  PlainText: 0,\n  Comment: 1,\n  Punctuation: 2,\n  Directive: 3,\n  Literal: 4,\n  StringLiteral: 5,\n  Type: 6,\n  Column: 7,\n  Table: 8,\n  Database: 9,\n  Function: 10,\n  Parameter: 11,\n  Variable: 12,\n  Identifier: 13,\n  ClientParameter: 14,\n  QueryParameter: 15,\n  ScalarOperator: 16,\n  MathOperator: 17,\n  QueryOperator: 18,\n  Command: 19,\n  Keyword: 20,\n  MaterializedView: 21,\n  SchemaMember: 22,\n  SignatureParameter: 23,\n  Option: 24\n};\nconst ClassificationKindNames = {};\nfor (const [key, value] of Object.entries(ClassificationKind)) {\n  ClassificationKindNames[value] = key;\n}\n\n// commented here is the color definitions are were defined by v1 intellisense terminology:\n// { token: 'comment', foreground: '008000' }, // CommentToken Green\n// { token: 'variable.predefined', foreground: '800080' }, // CalculatedColumnToken Purple\n// { token: 'function', foreground: '0000FF' }, // FunctionNameToken Blue\n// { token: 'operator.sql', foreground: 'FF4500' }, // OperatorToken OrangeRed (now changed to darker color CC3700 because wasn't accessible)\n// { token: 'string', foreground: 'B22222' }, // StringLiteralToken Firebrick\n// { token: 'operator.scss', foreground: '0000FF' }, // SubOperatorToken Blue\n// { token: 'variable', foreground: 'C71585' }, // TableColumnToken MediumVioletRed\n// { token: 'variable.parameter', foreground: '9932CC' }, // TableToken DarkOrchid\n// { token: '', foreground: '000000' }, // UnknownToken, PlainTextToken  Black\n// { token: 'type', foreground: '0000FF' }, // DataTypeToken Blue\n// { token: 'tag', foreground: '0000FF' }, // ControlCommandToken Blue\n// { token: 'annotation', foreground: '2B91AF' }, // QueryParametersToken FF2B91AF\n// { token: 'keyword', foreground: '0000FF' }, // CslCommandToken, PluginToken Blue\n// { token: 'number', foreground: '191970' }, // LetVariablesToken MidnightBlue\n// { token: 'annotation', foreground: '9400D3' }, // ClientDirectiveToken DarkViolet\n// { token: 'invalid', background: 'cd3131' },\nconst classificationToColorLight = {\n  Column: 'C71585',\n  Comment: '008000',\n  Database: 'C71585',\n  Function: '0000FF',\n  Identifier: '000000',\n  Keyword: '0000FF',\n  Literal: 'B22222',\n  ScalarOperator: '0000FF',\n  MaterializedView: 'C71585',\n  MathOperator: '000000',\n  Command: '0000FF',\n  Parameter: '2B91AF',\n  PlainText: '000000',\n  Punctuation: '000000',\n  QueryOperator: 'CC3700',\n  QueryParameter: 'CC3700',\n  StringLiteral: 'B22222',\n  Table: 'C71585',\n  Type: '0000FF',\n  Variable: '191970',\n  Directive: '9400D3',\n  ClientParameter: 'b5cea8',\n  SchemaMember: 'C71585',\n  SignatureParameter: '2B91AF',\n  Option: '000000'\n};\nconst classificationToColorDark = {\n  Column: '4ec9b0',\n  Comment: '6A9B34',\n  Database: 'c586c0',\n  Function: 'dcdcaa',\n  Identifier: 'd4d4d4',\n  Keyword: '569cd6',\n  Literal: 'ce9178',\n  ScalarOperator: '569cd6',\n  MaterializedView: 'c586c0',\n  MathOperator: 'd4d4d4',\n  Command: 'd4d4d4',\n  Parameter: '2B91AF',\n  PlainText: 'd4d4d4',\n  Punctuation: 'd4d4d4',\n  QueryOperator: '9cdcfe',\n  QueryParameter: '9cdcfe',\n  StringLiteral: 'ce9178',\n  Table: 'c586c0',\n  Type: '569cd6',\n  Variable: 'd7ba7d',\n  Directive: 'b5cea8',\n  ClientParameter: 'b5cea8',\n  SchemaMember: '4ec9b0',\n  SignatureParameter: '2B91AF',\n  Option: 'd4d4d4'\n};\nclass ColorizationAdapter {\n  _disposables = [];\n  _contentListener = Object.create(null);\n  _configurationListener = Object.create(null);\n  _schemaListener = Object.create(null);\n  decorations = [];\n  constructor(_monacoInstance, _languageId, _worker, defaults, onSchemaChange) {\n    this._monacoInstance = _monacoInstance;\n    this._languageId = _languageId;\n    this._worker = _worker;\n    injectCss();\n    const onModelAdd = model => {\n      let languageId = model.getLanguageId();\n      if (languageId !== this._languageId) {\n        return;\n      }\n      const debouncedColorization = debounce(intervals => this._doColorization(model, languageId, intervals), 500);\n      this._contentListener[model.uri.toString()] = model.onDidChangeContent(e => {\n        // Changes are represented as a range in doc before change, plus the text that it was replaced with.\n        // We are interested in the range _after_ the change (since that's what we need to colorize).\n        // following logic calculates that.\n        const intervalsToColorize = changeEventToIntervals(e);\n        debouncedColorization(intervalsToColorize);\n      });\n      this._configurationListener[model.uri.toString()] = defaults.onDidChange(() => {\n        self.setTimeout(() => this._doColorization(model, languageId, []), 0);\n      });\n      this._schemaListener[model.uri.toString()] = onSchemaChange(() => {\n        self.setTimeout(() => this._doColorization(model, languageId, []), 0);\n      });\n    };\n    const onModelRemoved = model => {\n      model.deltaDecorations(this.decorations, []);\n      let uriStr = model.uri.toString();\n      let contentListener = this._contentListener[uriStr];\n      if (contentListener) {\n        contentListener.dispose();\n        delete this._contentListener[uriStr];\n      }\n      let configurationListener = this._configurationListener[uriStr];\n      if (configurationListener) {\n        configurationListener.dispose();\n        delete this._configurationListener[uriStr];\n      }\n      let schemaListener = this._configurationListener[uriStr];\n      if (schemaListener) {\n        schemaListener.dispose();\n        delete this._schemaListener[uriStr];\n      }\n    };\n    this._disposables.push(this._monacoInstance.editor.onDidCreateModel(onModelAdd));\n    this._disposables.push(this._monacoInstance.editor.onWillDisposeModel(onModelRemoved));\n    this._disposables.push(this._monacoInstance.editor.onDidChangeModelLanguage(event => {\n      onModelRemoved(event.model);\n      onModelAdd(event.model);\n    }));\n    this._disposables.push({\n      dispose: () => {\n        for (let key in this._contentListener) {\n          this._contentListener[key].dispose();\n        }\n      }\n    });\n    this._monacoInstance.editor.getModels().forEach(onModelAdd);\n  }\n  dispose() {\n    this._disposables.forEach(d => d && d.dispose());\n    this._disposables = [];\n  }\n\n  /**\n   * Return true if the range doesn't intersect any of the line ranges.\n   * @param range monaco.Range\n   * @param impactedLineRanges an array of line ranges\n   */\n  _rangeDoesNotIntersectAny(range, impactedLineRanges) {\n    return impactedLineRanges.every(lineRange => range.startLineNumber > lineRange.lastImpactedLine || range.endLineNumber < lineRange.firstImpactedLine);\n  }\n  _doColorization(model, languageId, intervals) {\n    if (model.isDisposed()) {\n      return;\n    }\n    const resource = model.uri;\n    const versionNumberBeforeColorization = model.getVersionId();\n    this._worker(resource).then(worker => {\n      return worker.doColorization(resource.toString(), intervals);\n    }).then(colorizationRanges => {\n      const newModel = this._monacoInstance.editor.getModel(model.uri);\n      const versionId = newModel.getVersionId();\n\n      // don't colorize an older version of the document.\n      if (versionId !== versionNumberBeforeColorization) {\n        return;\n      }\n      const decorationRanges = colorizationRanges.map(colorizationRange => {\n        const decorations = colorizationRange.classifications.map(classification => toDecoration(model, classification))\n        // The following line will prevent things that aren't going to be colorized anyway to get a CSS class.\n        // This will prevent the case where the non-semantic colorizer already figured out that a keyword needs\n        // to be colorized, but the outdated semantic colorizer still thinks it's a plain text and wants it colored\n        // in black.\n        .filter(d => d.options.inlineClassName !== 'PlainText' && d.options.inlineClassName != 'Identifier');\n        const firstImpactedLine = model.getPositionAt(colorizationRange.absoluteStart).lineNumber;\n        const endPosition = model.getPositionAt(colorizationRange.absoluteEnd);\n\n        // A token that ends in the first column of the next line is not considered to be part of that line.\n        const lastImpactedLine = endPosition.column == 1 && endPosition.lineNumber > 1 ? endPosition.lineNumber - 1 : endPosition.lineNumber;\n        return {\n          decorations,\n          firstImpactedLine,\n          lastImpactedLine\n        };\n      });\n\n      // Compute the previous decorations we want to replace with the new ones.\n      const oldDecorations = decorationRanges.map(range => model.getLinesDecorations(range.firstImpactedLine, range.lastImpactedLine).filter(d => classificationToColorLight[d.options.inlineClassName]) // Don't delete any other decorations\n      .map(d => d.id)).reduce((prev, curr) => prev.concat(curr), []);\n\n      // Flatten decoration groups to an array of decorations\n      const newDecorations = decorationRanges.reduce((prev, next) => prev.concat(next.decorations), []);\n      if (model && model.getLanguageId() === languageId) {\n        this.decorations = model.deltaDecorations(oldDecorations, newDecorations);\n      }\n    }).then(undefined, err => {\n      console.error(err);\n    });\n  }\n}\n\n/**\n * Generates a mapping between ClassificationKind and color.\n */\nfunction getClassificationColorTriplets() {\n  const result = Object.keys(ClassificationKind).map(key => ({\n    classification: key,\n    colorLight: classificationToColorLight[key],\n    colorDark: classificationToColorDark[key]\n  }));\n  return result;\n}\n\n/**\n * Returns a string which is a css describing all tokens and their colors.\n * looks a little bit something like this:\n *\n * .vs .Literal {color: '#000000';} .vs-dark .Literal {color: '#FFFFFF';}\n * .vs .Comment {color: '#111111';} .vs-dark .Comment {color: '#EEEEEE';}\n */\nfunction getCssForClassification() {\n  const classificationColorTriplets = getClassificationColorTriplets();\n  const cssInnerHtml = classificationColorTriplets.map(pair => `.vs .${pair.classification} {color: #${pair.colorLight};} .vs-dark .${pair.classification} {color: #${pair.colorDark};}`).join('\\n');\n  return cssInnerHtml;\n}\n\n/**\n * Inject a CSS sheet to the head of document, coloring kusto elements by classification.\n * TODO: make idempotent\n */\nfunction injectCss() {\n  const container = document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  style.media = 'screen';\n  container.appendChild(style);\n  style.innerHTML = getCssForClassification();\n}\nfunction toDecoration(model, classification) {\n  const start = model.getPositionAt(classification.start);\n  const end = model.getPositionAt(classification.start + classification.length);\n  const range = new monaco.Range(start.lineNumber, start.column, end.lineNumber, end.column);\n  const inlineClassName = ClassificationKindNames[classification.kind];\n  return {\n    range,\n    options: {\n      inlineClassName,\n      stickiness: monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n    }\n  };\n}\n// --- completion ------\n\nfunction fromPosition(position) {\n  if (!position) {\n    return void 0;\n  }\n  return {\n    character: position.column - 1,\n    line: position.lineNumber - 1\n  };\n}\nfunction fromRange(range) {\n  if (!range) {\n    return void 0;\n  }\n  return {\n    start: fromPosition(range.getStartPosition()),\n    end: fromPosition(range.getEndPosition())\n  };\n}\nfunction toRange(range) {\n  if (!range) {\n    return void 0;\n  }\n  return new monaco.Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\n}\nfunction toCompletionItemKind(kind) {\n  let mItemKind = monaco.languages.CompletionItemKind;\n  switch (kind) {\n    case ls.CompletionItemKind.Text:\n      return mItemKind.Text;\n    case ls.CompletionItemKind.Method:\n      return mItemKind.Method;\n    case ls.CompletionItemKind.Function:\n      return mItemKind.Function;\n    case ls.CompletionItemKind.Constructor:\n      return mItemKind.Constructor;\n    case ls.CompletionItemKind.Field:\n      return mItemKind.Field;\n    case ls.CompletionItemKind.Variable:\n      return mItemKind.Variable;\n    case ls.CompletionItemKind.Class:\n      return mItemKind.Class;\n    case ls.CompletionItemKind.Interface:\n      return mItemKind.Interface;\n    case ls.CompletionItemKind.Module:\n      return mItemKind.Module;\n    case ls.CompletionItemKind.Property:\n      return mItemKind.Property;\n    case ls.CompletionItemKind.Unit:\n      return mItemKind.Unit;\n    case ls.CompletionItemKind.Value:\n      return mItemKind.Value;\n    case ls.CompletionItemKind.Enum:\n      return mItemKind.Enum;\n    case ls.CompletionItemKind.Keyword:\n      return mItemKind.Keyword;\n    case ls.CompletionItemKind.Snippet:\n      return mItemKind.Snippet;\n    case ls.CompletionItemKind.Color:\n      return mItemKind.Color;\n    case ls.CompletionItemKind.File:\n      return mItemKind.File;\n    case ls.CompletionItemKind.Reference:\n      return mItemKind.Reference;\n  }\n  return mItemKind.Property;\n}\nfunction toTextEdit(textEdit) {\n  if (!textEdit) {\n    return void 0;\n  }\n  return {\n    range: toRange(textEdit.range),\n    text: textEdit.newText\n  };\n}\nconst DEFAULT_DOCS_BASE_URL = 'https://learn.microsoft.com/azure/data-explorer/kusto/query';\nclass CompletionAdapter {\n  constructor(_worker, languageSettings) {\n    this._worker = _worker;\n    this.languageSettings = languageSettings;\n  }\n  get triggerCharacters() {\n    return [' '];\n  }\n  provideCompletionItems(model, position, context, token) {\n    const wordInfo = model.getWordUntilPosition(position);\n    const wordRange = new monaco.Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\n    const resource = model.uri;\n    const onDidProvideCompletionItems = this.languageSettings.onDidProvideCompletionItems;\n    return this._worker(resource).then(worker => {\n      return worker.doComplete(resource.toString(), fromPosition(position));\n    }).then(info => onDidProvideCompletionItems ? onDidProvideCompletionItems(info) : info).then(info => {\n      if (!info) {\n        return;\n      }\n      let items = info.items.map(entry => {\n        let item = {\n          label: entry.label,\n          insertText: entry.insertText,\n          sortText: entry.sortText,\n          filterText: entry.filterText,\n          // TODO: Is this cast safe?\n          documentation: this.formatDocLink(entry.documentation?.value),\n          detail: entry.detail,\n          range: wordRange,\n          kind: toCompletionItemKind(entry.kind)\n        };\n        if (entry.textEdit) {\n          // TODO: Where is the \"range\" property coming from?\n          item.range = toRange(entry.textEdit.range);\n          item.insertText = entry.textEdit.newText;\n        }\n        if (entry.insertTextFormat === ls.InsertTextFormat.Snippet) {\n          item.insertTextRules = monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet;\n        }\n        return item;\n      });\n      return {\n        isIncomplete: info.isIncomplete,\n        suggestions: items\n      };\n    });\n  }\n  formatDocLink(docString) {\n    // If the docString is empty, we want to return undefined to prevent an empty documentation popup.\n    if (!docString) {\n      return undefined;\n    }\n    const {\n      documentationBaseUrl = DEFAULT_DOCS_BASE_URL,\n      documentationSuffix\n    } = this.languageSettings;\n    const urisProxy = new Proxy({}, {\n      get(_target, prop, _receiver) {\n        // The link comes with a postfix of \".md\" that we want to remove\n        let url = prop.toString().replace('.md', '');\n        // Sometimes we get the link as a full URL. For example in the main doc link of the item\n        if (!url.startsWith('https')) {\n          url = `${documentationBaseUrl}/${url}`;\n        }\n        const monacoUri = monaco.Uri.parse(url);\n        if (documentationSuffix) {\n          // We need to override the toString method to add the suffix, otherwise it gets encoded and page doesn't open\n          monacoUri.toString = () => url + documentationSuffix;\n        }\n        return monacoUri;\n      }\n    });\n    return {\n      value: docString,\n      isTrusted: true,\n      uris: urisProxy\n    };\n  }\n}\nfunction isMarkupContent(thing) {\n  return thing && typeof thing === 'object' && typeof thing.kind === 'string';\n}\nfunction toMarkdownString(entry) {\n  if (typeof entry === 'string') {\n    return {\n      value: entry\n    };\n  }\n  if (isMarkupContent(entry)) {\n    if (entry.kind === 'plaintext') {\n      return {\n        value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\n      };\n    }\n    return {\n      value: entry.value\n    };\n  }\n  return {\n    value: '```' + entry.value + '\\n' + entry.value + '\\n```\\n'\n  };\n}\nfunction toMarkedStringArray(contents) {\n  if (!contents) {\n    return void 0;\n  }\n  if (Array.isArray(contents)) {\n    return contents.map(toMarkdownString);\n  }\n  return [toMarkdownString(contents)];\n}\n\n// --- definition ------\n\nfunction toLocation(location) {\n  return {\n    uri: monaco.Uri.parse(location.uri),\n    range: toRange(location.range)\n  };\n}\nclass DefinitionAdapter {\n  constructor(_worker) {\n    this._worker = _worker;\n  }\n  provideDefinition(model, position, token) {\n    const resource = model.uri;\n    return this._worker(resource).then(worker => {\n      return worker.findDefinition(resource.toString(), fromPosition(position));\n    }).then(definition => {\n      if (!definition || definition.length == 0) {\n        return;\n      }\n      return [toLocation(definition[0])];\n    });\n  }\n}\n\n// --- references ------\n\nclass ReferenceAdapter {\n  constructor(_worker) {\n    this._worker = _worker;\n  }\n  provideReferences(model, position, context, token) {\n    const resource = model.uri;\n    return this._worker(resource).then(worker => {\n      return worker.findReferences(resource.toString(), fromPosition(position));\n    }).then(entries => {\n      if (!entries) {\n        return;\n      }\n      return entries.map(toLocation);\n    });\n  }\n}\n\n// --- rename ------\n\nfunction toWorkspaceEdit(edit) {\n  if (!edit || !edit.changes) {\n    return void 0;\n  }\n  let resourceEdits = [];\n  for (let uri in edit.changes) {\n    const _uri = monaco.Uri.parse(uri);\n    for (let e of edit.changes[uri]) {\n      resourceEdits.push({\n        resource: _uri,\n        textEdit: {\n          range: toRange(e.range),\n          text: e.newText\n        },\n        versionId: undefined\n      });\n    }\n  }\n  return {\n    edits: resourceEdits\n  };\n}\nclass RenameAdapter {\n  constructor(_worker) {\n    this._worker = _worker;\n  }\n  provideRenameEdits(model, position, newName, token) {\n    const resource = model.uri;\n    return this._worker(resource).then(worker => {\n      return worker.doRename(resource.toString(), fromPosition(position), newName);\n    }).then(edit => {\n      return toWorkspaceEdit(edit);\n    });\n  }\n}\n\n// --- formatting -----\n\nclass DocumentFormatAdapter {\n  constructor(_worker) {\n    this._worker = _worker;\n  }\n  provideDocumentFormattingEdits(model, options, token) {\n    const resource = model.uri;\n    return this._worker(resource).then(worker => {\n      return worker.doDocumentFormat(resource.toString()).then(edits => edits.map(edit => toTextEdit(edit)));\n    });\n  }\n}\nclass FormatAdapter {\n  constructor(_worker) {\n    this._worker = _worker;\n  }\n  provideDocumentRangeFormattingEdits(model, range, options, token) {\n    const resource = model.uri;\n    return this._worker(resource).then(worker => {\n      return worker.doRangeFormat(resource.toString(), fromRange(range)).then(edits => edits.map(edit => toTextEdit(edit)));\n    });\n  }\n}\n\n// --- Folding ---\nclass FoldingAdapter {\n  constructor(_worker) {\n    this._worker = _worker;\n  }\n  provideFoldingRanges(model, context, token) {\n    const resource = model.uri;\n    return this._worker(resource).then(worker => {\n      return worker.doFolding(resource.toString()).then(foldingRanges => foldingRanges.map(range => toFoldingRange(range)));\n    });\n  }\n}\nfunction toFoldingRange(range) {\n  return {\n    start: range.startLine + 1,\n    end: range.endLine + 1,\n    kind: monaco.languages.FoldingRangeKind.Region\n  };\n}\n\n// --- hover ------\n\nclass HoverAdapter {\n  constructor(_worker) {\n    this._worker = _worker;\n  }\n  provideHover(model, position, token) {\n    let resource = model.uri;\n    return this._worker(resource).then(worker => {\n      return worker.doHover(resource.toString(), fromPosition(position));\n    }).then(info => {\n      if (!info) {\n        return;\n      }\n      return {\n        range: toRange(info.range),\n        contents: toMarkedStringArray(info.contents)\n      };\n    });\n  }\n}\n\nlet kustoWorker;\nlet resolveWorker;\nlet workerPromise = new Promise((resolve, reject) => {\n  resolveWorker = resolve;\n});\n\n/**\n * Called when Kusto language is first needed (a model has the language set)\n * @param defaults\n */\nfunction setupMode(defaults, monacoInstance) {\n  let onSchemaChange = new monaco.Emitter();\n  // TODO: when should we dispose of these? seems like monaco-css and monaco-typescript don't dispose of these.\n  let disposables = [];\n  let monarchTokensProvider;\n  const client = new WorkerManager(monacoInstance, defaults);\n  disposables.push(client);\n  const workerAccessor = (first, ...more) => {\n    const augmentedSetSchema = async (schema, worker) => {\n      const workerPromise = worker.setSchema(schema);\n      await workerPromise.then(() => {\n        onSchemaChange.fire(schema);\n      });\n    };\n    const worker = client.getLanguageServiceWorker(...[first].concat(more));\n    return worker.then(worker => ({\n      ...worker,\n      setSchema: schema => augmentedSetSchema(schema, worker),\n      async setSchemaFromShowSchema(schema, connection, database, globalScalarParameters, globalTabularParameters) {\n        await worker.normalizeSchema(schema, connection, database).then(schema => {\n          if (globalScalarParameters || globalTabularParameters) {\n            schema = {\n              ...schema,\n              globalScalarParameters,\n              globalTabularParameters\n            };\n          }\n          augmentedSetSchema(schema, worker);\n        });\n      }\n    }));\n  };\n  const language = 'kusto';\n  disposables.push(monacoInstance.languages.registerCompletionItemProvider(language, new CompletionAdapter(workerAccessor, defaults.languageSettings)));\n\n  // Monaco tokenization runs in main thread so we're using a quick schema-unaware tokenization.\n  // a web worker will run semantic colorization in the background (ColorizationAdapter).\n  if (defaults.languageSettings.useTokenColorization) {\n    monarchTokensProvider = monacoInstance.languages.setMonarchTokensProvider(language, KustoLanguageDefinition);\n  }\n\n  // listen to configuration changes and if we're switching from semantic to monarch colorization, do the switch.\n  defaults.onDidChange(e => {\n    if (!e.languageSettings.useTokenColorization && monarchTokensProvider !== undefined) {\n      monarchTokensProvider.dispose();\n      monarchTokensProvider = undefined;\n    }\n    if (e.languageSettings.useTokenColorization && monarchTokensProvider == undefined) {\n      monarchTokensProvider = monacoInstance.languages.setMonarchTokensProvider(language, KustoLanguageDefinition);\n    }\n  });\n  disposables.push(new DiagnosticsAdapter(monacoInstance, language, workerAccessor, defaults, onSchemaChange.event));\n  disposables.push(new ColorizationAdapter(monacoInstance, language, workerAccessor, defaults, onSchemaChange.event));\n  disposables.push(monacoInstance.languages.registerDocumentRangeFormattingEditProvider(language, new FormatAdapter(workerAccessor)));\n  disposables.push(monacoInstance.languages.registerFoldingRangeProvider(language, new FoldingAdapter(workerAccessor)));\n  disposables.push(monacoInstance.languages.registerDefinitionProvider(language, new DefinitionAdapter(workerAccessor)));\n  disposables.push(monacoInstance.languages.registerRenameProvider(language, new RenameAdapter(workerAccessor)));\n  disposables.push(monacoInstance.languages.registerReferenceProvider(language, new ReferenceAdapter(workerAccessor)));\n  if (defaults.languageSettings.enableHover) {\n    disposables.push(monacoInstance.languages.registerHoverProvider(language, new HoverAdapter(workerAccessor)));\n  }\n  monacoInstance.languages.registerDocumentFormattingEditProvider(language, new DocumentFormatAdapter(workerAccessor));\n  kustoWorker = workerAccessor;\n  resolveWorker(workerAccessor);\n  monacoInstance.languages.setLanguageConfiguration(language, {\n    folding: {\n      offSide: false,\n      markers: {\n        start: /^\\s*[\\r\\n]/gm,\n        end: /^\\s*[\\r\\n]/gm\n      }\n    },\n    comments: {\n      lineComment: '//',\n      blockComment: null\n    }\n  });\n  return kustoWorker;\n}\nfunction getKustoWorker() {\n  return workerPromise.then(() => kustoWorker);\n}\n\nexport { getKustoWorker, setupMode };\n"],"names":["integer","uinteger","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","Command","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","MIN_VALUE","MAX_VALUE","create","line","character","Number","is","value","candidate","Is","objectLiteral","one","two","three","four","start","end","Error","uri","range","defined","string","undefined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","numberRange","color","label","textEdit","additionalTextEdits","typedArray","startLine","endLine","startCharacter","endCharacter","kind","result","location","message","Warning","Information","Hint","Unnecessary","Deprecated","href","severity","code","source","relatedInformation","_a","number","codeDescription","title","command","args","_i","arguments","length","replace","newText","insert","position","del","needsConfirmation","description","boolean","annotation","annotationId","textDocument","edits","OptionalVersionedTextDocumentIdentifier","Array","isArray","options","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","changes","documentChanges","every","change","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","DocumentSymbol","CodeActionKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","TextDocument","TextEditChangeImpl","changeAnnotations","this","prototype","edit","id","assertChangeAnnotations","manage","push","delete","add","all","clear","splice","ChangeAnnotations","annotations","_annotations","Object","_counter","_size","defineProperty","get","enumerable","configurable","idOrAnnotation","nextId","toString","WorkspaceChange","workspaceEdit","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","forEach","textEditChange","keys","key","initDocumentChanges","size","getTextEditChange","version","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","languageId","text","PlainText","Markdown","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Event","Operator","TypeParameter","asIs","adjustIndentation","items","isIncomplete","fromPlainText","plainText","language","contents","documentation","parameters","Read","Write","Namespace","Package","String","Boolean","Key","Null","name","containerName","detail","selectionRange","children","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","diagnostics","only","kindOrCommandOrEdit","checkKind","isPreferred","data","tabSize","insertSpaces","target","parent","mergeSort","compare","p","left","slice","right","leftIdx","rightIdx","i","ret","content","FullTextDocument","lineCount","func","getText","positionAt","offsetAt","applyEdits","document","sortedEdits","a","b","diff","lastModifiedOffset","e","startOffset","endOffset","substring","_uri","_languageId","_version","_content","_lineOffsets","update","event","getLineOffsets","lineOffsets","isLineStart","ch","charAt","offset","Math","max","min","low","high","mid","floor","lineOffset","nextLineOffset","call","check","type","global","freeSelf","self","Date","now","reWhitespace","reTrimStart","index","test","Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","isOwn","tag","unmasked","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary","nativeMax","nativeMin","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","clearTimeout","cancel","flush","WorkerManager","constructor","_monacoInstance","defaults","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_saveStateAndStopWorker","_stopWorker","dispose","_client","getProxy","then","proxy","getSchema","schema","_storedState","clearInterval","maxIdleTime","getWorkerMaxIdleTime","timePassedSinceLastUsed","_getClient","onDidProvideCompletionItems","languageSettings","editor","createWebWorker","moduleId","createData","setSchema","getLanguageServiceWorker","resources","client","_","withSyncedResources","KustoLanguageDefinition","mimeTypes","displayName","defaultToken","brackets","wordDefinition","promotedOperatorCommandTokens","operatorCommandTokens","keywords","operators","builtinFunctions","tokenizer","root","include","cases","whitespace","comments","numbers","strings","token","bracket","next","dqstrings","dqstring","literals","DiagnosticsAdapter","_disposables","_contentListener","_configurationListener","_schemaListener","_cursorListener","_debouncedValidations","onSchemaChange","onModelAdd","model","getLanguageId","modelUri","debouncedValidation","getOrCreateDebouncedValidation","onDidChangeContent","intervalsToValidate","changeEventToIntervals","_doValidate","onEditorAdd","editorId","getId","onDidDispose","onDidChangeCursorSelection","getModel","cursorOffset","getOffsetAt","selection","getPosition","onModelRemoved","setModelMarkers","uriStr","contentListener","configurationListener","schemaListener","enableQuickFixes","registerCodeActionProvider","provideCodeActions","async","context","_token","getStartPosition","getEndPosition","showQuickFix","markers","actions","getMonacoCodeActions","onDidCreateEditor","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","getModels","getEditors","enableQuickFix","worker","resource","codeActions","getResultActions","codeAction","includes","codeActionKind","quickFixCodeActions","find","actionKind","map","startPosition","getPositionAt","endPosition","deleteLength","startLineNumber","lineNumber","startColumn","column","endLineNumber","endColumn","insertText","intervals","d","isDisposed","versionNumberBefore","getVersionId","doValidation","diag","toSeverity","toDiagnostics","oldDecorations","getAllDecorations","filter","decoration","className","syntaxErrorAsMarkDown","enableSyntaxErrorAsMarkDown","header","popupErrorHoverHeaderMessage","icon","newDecorations","marker","hoverMessage","zIndex","overviewRuler","OverviewRulerLane","Right","minimap","MinimapPosition","Inline","oldMarkers","getModelMarkers","owner","deltaDecorations","err","console","error","rangeOffset","lsSeverity","Info","ClassificationKind","Comment","Punctuation","Directive","Literal","StringLiteral","Type","Column","Table","Database","Parameter","Identifier","ClientParameter","QueryParameter","ScalarOperator","MathOperator","QueryOperator","MaterializedView","SchemaMember","SignatureParameter","Option","ClassificationKindNames","entries","classificationToColorLight","classificationToColorDark","ColorizationAdapter","decorations","container","getElementsByTagName","style","createElement","media","appendChild","innerHTML","classification","colorLight","colorDark","pair","join","injectCss","debouncedColorization","_doColorization","intervalsToColorize","_rangeDoesNotIntersectAny","impactedLineRanges","lineRange","lastImpactedLine","firstImpactedLine","versionNumberBeforeColorization","doColorization","colorizationRanges","decorationRanges","colorizationRange","classifications","inlineClassName","stickiness","TrackedRangeStickiness","NeverGrowsWhenTypingAtEdges","toDecoration","absoluteStart","absoluteEnd","getLinesDecorations","reduce","prev","curr","concat","fromPosition","toRange","toCompletionItemKind","mItemKind","toTextEdit","DEFAULT_DOCS_BASE_URL","CompletionAdapter","triggerCharacters","provideCompletionItems","wordInfo","getWordUntilPosition","wordRange","doComplete","info","entry","item","sortText","filterText","formatDocLink","insertTextFormat","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","suggestions","docString","documentationBaseUrl","documentationSuffix","isTrusted","uris","Proxy","_target","prop","_receiver","url","startsWith","monacoUri","parse","toMarkdownString","thing","toMarkedStringArray","toLocation","DefinitionAdapter","provideDefinition","findDefinition","definition","ReferenceAdapter","provideReferences","findReferences","RenameAdapter","provideRenameEdits","newName","doRename","resourceEdits","versionId","toWorkspaceEdit","DocumentFormatAdapter","provideDocumentFormattingEdits","doDocumentFormat","FormatAdapter","provideDocumentRangeFormattingEdits","doRangeFormat","fromRange","FoldingAdapter","provideFoldingRanges","doFolding","foldingRanges","Region","toFoldingRange","HoverAdapter","provideHover","doHover","kustoWorker","resolveWorker","workerPromise","Promise","resolve","reject","setupMode","monacoInstance","monarchTokensProvider","disposables","workerAccessor","first","more","augmentedSetSchema","fire","setSchemaFromShowSchema","connection","database","globalScalarParameters","globalTabularParameters","normalizeSchema","languages","registerCompletionItemProvider","useTokenColorization","setMonarchTokensProvider","registerDocumentRangeFormattingEditProvider","registerFoldingRangeProvider","registerDefinitionProvider","registerRenameProvider","registerReferenceProvider","enableHover","registerHoverProvider","registerDocumentFormattingEditProvider","setLanguageConfiguration","folding","offSide","lineComment","blockComment","getKustoWorker"],"sourceRoot":""}